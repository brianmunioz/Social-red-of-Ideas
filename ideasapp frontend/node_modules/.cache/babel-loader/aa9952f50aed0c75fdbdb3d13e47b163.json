{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\brian\\\\Documents\\\\Frontend\\\\ideasapp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\brian\\\\Documents\\\\Frontend\\\\ideasapp\\\\src\\\\views\\\\myIdeas\\\\MyIdeas.jsx\";\n\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport IdeaCRUD from '../../components/idea/IdeaCRUD';\nimport Loading from '../../components/loading/Loading';\nimport logout from '../../helpers/logout';\n\nvar MyIdeas = function MyIdeas() {\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      ideas = _useState2[0],\n      setIdeas = _useState2[1];\n\n  var userID = JSON.parse(localStorage.getItem('user'));\n  var token = document.cookie.replace('token=', '');\n  if (!token) logout();\n  var REACT_APP_API_URL = process.env.REACT_APP_API_URL;\n  console.log(\"\".concat(REACT_APP_API_URL).concat(userID, \"/all\"));\n  useEffect(function () {\n    axios.get(\"\".concat(REACT_APP_API_URL).concat(userID, \"/all\"), {\n      headers: {\n        'Authorization': token\n      }\n    }).then(function (respuesta) {\n      setIdeas(respuesta.data);\n    }).catch(function (res) {\n      if (res.response.status === 401) {\n        logout();\n      }\n    });\n  }, [!ideas]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container  pb-5\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex align-items-center mt-5 justify-content-center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    className: \"btn btn-outline-dark shadow text-center bold\",\n    href: \"/create\",\n    style: {\n      width: '200px'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }\n  }, \"Create new idea\")), ideas.length > 0 && ideas.map(function (idea) {\n    return /*#__PURE__*/React.createElement(IdeaCRUD, {\n      userIdeas: idea,\n      key: ideas._id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 56\n      }\n    });\n  }), ideas.length === 0 && /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"text-center mt-5\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 31\n    }\n  }, \"You not have ideas! Create a new idea!\"), ideas === '' && /*#__PURE__*/React.createElement(Loading, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 26\n    }\n  }));\n};\n\nexport default MyIdeas;","map":{"version":3,"names":["React","useState","useEffect","axios","IdeaCRUD","Loading","logout","MyIdeas","ideas","setIdeas","userID","JSON","parse","localStorage","getItem","token","document","cookie","replace","REACT_APP_API_URL","process","env","console","log","get","headers","then","respuesta","data","catch","res","response","status","width","length","map","idea","_id"],"sources":["C:/Users/brian/Documents/Frontend/ideasapp/src/views/myIdeas/MyIdeas.jsx"],"sourcesContent":["import React,{useState, useEffect} from 'react';\r\nimport axios from 'axios';\r\nimport IdeaCRUD from '../../components/idea/IdeaCRUD';\r\nimport Loading from '../../components/loading/Loading';\r\nimport logout from '../../helpers/logout';\r\n\r\nconst MyIdeas = () => {\r\n    const [ideas,setIdeas] = useState('');\r\n    const userID = JSON.parse(localStorage.getItem('user'));\r\n    const token = document.cookie.replace('token=', '');\r\n    if(!token) logout();\r\n    const {REACT_APP_API_URL} = process.env;\r\n    console.log(`${REACT_APP_API_URL}${userID}/all`);\r\n    useEffect(()=>{\r\n        axios.get(`${REACT_APP_API_URL}${userID}/all`,{\r\n          headers: {\r\n              'Authorization': token\r\n          }\r\n      })\r\n        .then((respuesta)=>{  \r\n            \r\n            setIdeas(respuesta.data);\r\n          })\r\n        .catch(\r\n          (res)=>\r\n          {\r\n            if(res.response.status === 401){\r\n              logout();\r\n            }\r\n      \r\n          }\r\n        )\r\n    },[!ideas])\r\n  \r\n  return (\r\n    <div className='container  pb-5'>\r\n        <div className=\"d-flex align-items-center mt-5 justify-content-center\">\r\n        <a className='btn btn-outline-dark shadow text-center bold' href={\"/create\"} style={{width: '200px'}}>Create new idea</a>\r\n\r\n        </div>\r\n\r\n        {ideas.length > 0 && ideas.map((idea)=>{return <IdeaCRUD userIdeas={idea} key={ideas._id}/>})}\r\n        {ideas.length === 0 &&<h1 className='text-center mt-5'>You not have ideas! Create a new idea!</h1>}\r\n        {ideas === '' && <Loading/>}\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default MyIdeas"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAcC,QAAd,EAAwBC,SAAxB,QAAwC,OAAxC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,gCAArB;AACA,OAAOC,OAAP,MAAoB,kCAApB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;;AAEA,IAAMC,OAAO,GAAG,SAAVA,OAAU,GAAM;EAAA,gBACON,QAAQ,CAAC,EAAD,CADf;EAAA;EAAA,IACXO,KADW;EAAA,IACLC,QADK;;EAElB,IAAMC,MAAM,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAf;EACA,IAAMC,KAAK,GAAGC,QAAQ,CAACC,MAAT,CAAgBC,OAAhB,CAAwB,QAAxB,EAAkC,EAAlC,CAAd;EACA,IAAG,CAACH,KAAJ,EAAWT,MAAM;EAJC,IAKXa,iBALW,GAKUC,OAAO,CAACC,GALlB,CAKXF,iBALW;EAMlBG,OAAO,CAACC,GAAR,WAAeJ,iBAAf,SAAmCT,MAAnC;EACAR,SAAS,CAAC,YAAI;IACVC,KAAK,CAACqB,GAAN,WAAaL,iBAAb,SAAiCT,MAAjC,WAA8C;MAC5Ce,OAAO,EAAE;QACL,iBAAiBV;MADZ;IADmC,CAA9C,EAKCW,IALD,CAKM,UAACC,SAAD,EAAa;MAEflB,QAAQ,CAACkB,SAAS,CAACC,IAAX,CAAR;IACD,CARH,EASCC,KATD,CAUE,UAACC,GAAD,EACA;MACE,IAAGA,GAAG,CAACC,QAAJ,CAAaC,MAAb,KAAwB,GAA3B,EAA+B;QAC7B1B,MAAM;MACP;IAEF,CAhBH;EAkBH,CAnBQ,EAmBP,CAAC,CAACE,KAAF,CAnBO,CAAT;EAqBF,oBACE;IAAK,SAAS,EAAC,iBAAf;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACI;IAAK,SAAS,EAAC,uDAAf;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACA;IAAG,SAAS,EAAC,8CAAb;IAA4D,IAAI,EAAE,SAAlE;IAA6E,KAAK,EAAE;MAACyB,KAAK,EAAE;IAAR,CAApF;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,qBADA,CADJ,EAMKzB,KAAK,CAAC0B,MAAN,GAAe,CAAf,IAAoB1B,KAAK,CAAC2B,GAAN,CAAU,UAACC,IAAD,EAAQ;IAAC,oBAAO,oBAAC,QAAD;MAAU,SAAS,EAAEA,IAArB;MAA2B,GAAG,EAAE5B,KAAK,CAAC6B,GAAtC;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,EAAP;EAAoD,CAAvE,CANzB,EAOK7B,KAAK,CAAC0B,MAAN,KAAiB,CAAjB,iBAAqB;IAAI,SAAS,EAAC,kBAAd;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,4CAP1B,EAQK1B,KAAK,KAAK,EAAV,iBAAgB,oBAAC,OAAD;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EARrB,CADF;AAaD,CAzCD;;AA2CA,eAAeD,OAAf"},"metadata":{},"sourceType":"module"}